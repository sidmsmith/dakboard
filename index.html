<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Dashboard">
  <title>Personal Dashboard</title>
  <meta name="application-name" content="Personal Dashboard">
  <meta name="description" content="Personal Dashboard - Smart home dashboard with calendar, weather, todo lists, and more">
  <meta property="og:title" content="Personal Dashboard">
  <meta property="og:description" content="Personal Dashboard - Smart home dashboard with calendar, weather, todo lists, and more">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://dakboard-smith.vercel.app/">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
  <!-- Google Fonts for fun font families -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Bangers&family=Boogaloo&family=Bubblegum+Sans&family=Bungee&family=Chewy&family=Creepster&family=Fredoka+One&family=Indie+Flower&family=Kalam:wght@300;400;700&family=Lobster&family=Luckiest+Guy&family=Nunito:wght@300;400;600;700&family=Pacifico&family=Patrick+Hand&family=Permanent+Marker&family=Poppins:wght@300;400;600;700&family=Quicksand:wght@300;400;600;700&family=Righteous&family=Schoolbell&family=Shadows+Into+Light&display=swap" rel="stylesheet">
  <!-- Google Picker API (loaded conditionally when USE_GOOGLE_PICKER_API is enabled) -->
  <!-- This will be loaded dynamically in app.js if CONFIG.USE_GOOGLE_PICKER_API is true -->
  <!-- Local config for development (gitignored) -->
  <script>
    // Try to load config.js, but don't fail if it doesn't exist (expected in production)
    (function() {
      const script = document.createElement('script');
      script.src = 'config.js';
      script.defer = true;
      script.onerror = function() {
        // config.js not found - this is expected in production
        // window.CONFIG will be undefined, which is handled by the code
      };
      document.head.appendChild(script);
    })();
  </script>
  <script src="drag-resize.js" defer></script>
  <link rel="icon" href="data:,">
</head>
<body>
  <!-- Edit Mode Watermark -->
  <div class="diagonal-watermark" id="edit-mode-watermark"></div>
  
  <!-- Page Navigation Arrows -->
  <button id="page-nav-left" class="page-nav-arrow page-nav-left" title="Previous Page">‚Äπ</button>
  <button id="page-nav-right" class="page-nav-arrow page-nav-right" title="Next Page">‚Ä∫</button>
  
  <!-- Page Container -->
  <div id="pages-container" class="pages-container">
    <!-- Pages will be dynamically created here -->
  </div>
  
  <!-- Widget Visibility Control Panel -->
  <div id="widget-control-panel" class="widget-control-panel">
    <div class="widget-control-header">
      <h3>Widget Visibility</h3>
      <div class="config-controls">
        <button id="export-config-btn" class="config-btn" title="Export Configuration">üíæ</button>
        <button id="import-config-btn" class="config-btn" title="Import Configuration">üì•</button>
        <input type="file" id="import-config-file" accept=".json" style="display: none;">
      </div>
      <button id="close-widget-panel" class="close-panel-btn">&times;</button>
    </div>
    <div class="page-management-section">
      <div class="page-management-header">
        <h4>Pages</h4>
        <button id="add-page-btn" class="page-management-btn" title="Add New Page">+</button>
      </div>
      <div class="page-list" id="page-list">
        <!-- Pages will be populated by JavaScript -->
      </div>
    </div>
    <div class="widget-control-list" id="widget-control-list">
      <!-- Widget controls will be populated by JavaScript -->
    </div>
    <div class="widget-control-edit-mode">
      <label class="edit-mode-toggle">
        <input type="checkbox" id="edit-layout-toggle">
        <span class="edit-mode-switch"></span>
        <span class="edit-mode-label">Edit Layout</span>
      </label>
    </div>
    <div class="widget-control-annotate-mode">
      <button id="annotate-mode-toggle" class="annotate-mode-toggle-btn" title="Start Annotating">
        <span class="annotate-mode-icon">‚úèÔ∏è</span>
        <span class="annotate-mode-label">Annotate</span>
      </button>
    </div>
  </div>
  
  <!-- Annotation Overlay Canvas -->
  <canvas id="annotation-canvas" class="annotation-overlay"></canvas>
  
  <!-- Annotation Toolbar -->
  <div id="annotation-toolbar" class="annotation-toolbar">
    <div class="annotation-toolbar-content">
      <div class="annotation-tools">
        <button class="annotation-tool-btn active" data-tool="pen" title="Pen">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
            <path d="M2 2l7.586 7.586"></path>
            <circle cx="11" cy="11" r="2"></circle>
          </svg>
        </button>
        <button class="annotation-tool-btn" data-tool="highlighter" title="Highlighter">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 21h18"></path>
            <path d="M5 21V7l8-4v18"></path>
            <path d="M19 21V11l-6-4"></path>
            <line x1="9" y1="9" x2="9" y2="21"></line>
            <line x1="9" y1="9" x2="9" y2="21"></line>
          </svg>
        </button>
        <button class="annotation-tool-btn" data-tool="paintbrush" title="Paintbrush">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9.06 2.06A2 2 0 0 1 11 2h2a2 2 0 0 1 2 2v.5M21 15v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3"></path>
            <path d="M12 2v20"></path>
            <path d="M3 15h18"></path>
          </svg>
        </button>
        <button class="annotation-tool-btn" data-tool="eraser" title="Eraser">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z"></path>
            <path d="M15 9l-6 6"></path>
          </svg>
        </button>
      </div>
      <div class="annotation-separator"></div>
      <div class="annotation-color-controls">
        <label class="annotation-control-label">Color:</label>
        <input type="color" id="annotation-color" class="annotation-color-picker" value="#000000" title="Select color">
        <input type="text" id="annotation-color-text" class="annotation-color-text" value="#000000" maxlength="7">
      </div>
      <div class="annotation-separator"></div>
      <div class="annotation-size-controls">
        <label class="annotation-control-label">Size:</label>
        <input type="range" id="annotation-brush-size" class="annotation-brush-size" min="1" max="50" value="3">
        <span id="annotation-brush-size-value" class="annotation-brush-size-value">3px</span>
      </div>
      <div class="annotation-separator"></div>
      <div class="annotation-actions">
        <button id="annotation-clear" class="annotation-action-btn" title="Clear All">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
        </button>
        <button id="annotation-toggle-visibility" class="annotation-action-btn" title="Toggle Visibility">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
        </button>
        <button id="annotation-close" class="annotation-action-btn annotation-close-btn" title="Stop Annotating (ESC)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Widget Control Toggle Button -->
  <button id="widget-control-toggle" class="widget-control-toggle" title="Manage Widgets">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
      <line x1="9" y1="3" x2="9" y2="21"></line>
      <line x1="15" y1="3" x2="15" y2="21"></line>
    </svg>
  </button>
  
  <!-- App Name and Purpose (visible for Google verification - only on Page 0) -->
  <!-- Hidden - not needed due to complications with Google Verification -->
  <!--
  <div class="app-purpose-box" style="position: absolute; top: 10px; left: 10px; z-index: 10000; background: rgba(26, 26, 26, 0.9); padding: 12px 20px; border-radius: 8px; max-width: 400px;">
    <h1 style="margin: 0 0 8px 0; font-size: 20px; color: #fff; font-weight: 600;">Personal Dashboard</h1>
    <p style="margin: 0; font-size: 14px; color: #aaa; line-height: 1.4;">
      A smart home dashboard application that integrates with Home Assistant to display calendar events, weather information, todo lists, garage door controls, alarm panel status, and more in a customizable, widget-based interface.
    </p>
  </div>
  -->
  
  <!-- Pages will be dynamically created, starting with page 0 -->
  <!-- The first page (page 0) will be created on load with all widgets -->
  
  <div class="dashboard page" data-page-id="0">
    <!-- Calendar - Large, Left Side -->
    <div class="widget calendar-widget">
      <div class="widget-header">
        <div class="widget-title">
          <svg class="calendar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
          Calendar
        </div>
        <button id="month-view-btn" class="month-view-btn">
          <svg class="month-icon" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
          <span class="month-text">Month</span>
        </button>
      </div>
      <div class="calendar-nav">
        <button id="prev-week-btn">‚Üê Previous Week</button>
        <span id="week-range">Week of [Date Range]</span>
        <button id="next-week-btn">Next Week ‚Üí</button>
      </div>
      <div class="calendar-grid" id="calendar-grid">
        <div class="calendar-day-header">Sun</div>
        <div class="calendar-day-header">Mon</div>
        <div class="calendar-day-header">Tue</div>
        <div class="calendar-day-header">Wed</div>
        <div class="calendar-day-header">Thu</div>
        <div class="calendar-day-header">Fri</div>
        <div class="calendar-day-header">Sat</div>
        <!-- Calendar days will be populated by JavaScript -->
      </div>
    </div>

    <!-- Agenda Widget -->
    <div class="widget agenda-widget">
      <div class="widget-header">
        <div class="widget-title">üìã Agenda</div>
      </div>
      <div class="agenda-content">
        <!-- Agenda content will be populated by JavaScript -->
      </div>
    </div>

    <!-- Weather - Top Right -->
    <div class="widget weather-widget">
      <div class="widget-header">
        <div class="widget-title">üå§Ô∏è Weather</div>
      </div>
      <div id="weather-content">
        <!-- Current Conditions -->
        <div class="weather-current">
          <div class="weather-current-main">
            <div class="weather-icon-large" id="weather-icon">‚è≥</div>
            <div class="weather-temp-large" id="weather-temp">--¬∞F</div>
          </div>
          <div class="weather-condition-text" id="weather-conditions">Loading...</div>
          <div class="weather-current-time" id="weather-time" style="display: none;"></div>
          <div class="weather-details-current">
            <div class="weather-detail">
              <span>Actual Temperature</span>
              <span id="weather-feels-like">--¬∞F</span>
            </div>
            <div class="weather-detail">
              <span>Humidity</span>
              <span id="weather-humidity">--%</span>
            </div>
            <div class="weather-detail">
              <span>Wind</span>
              <span id="weather-wind">-- mph</span>
            </div>
          </div>
        </div>
        
        <!-- Forecast Section -->
        <div class="weather-forecast" id="weather-forecast">
          <div class="weather-forecast-header">5-Day Forecast</div>
          <div class="weather-forecast-list" id="weather-forecast-list">
            <!-- Forecast items will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </div>

    <!-- Todo - Below Weather -->
    <div class="widget todo-widget">
      <div class="widget-header">
        <div class="widget-title">‚úÖ Todo List</div>
      </div>
      <div class="todo-tabs" id="todo-tabs">
        <!-- Tabs will be populated by JavaScript -->
      </div>
      <div class="todo-content">
        <ul class="todo-list" id="todo-list">
          <li class="todo-item">
            <span>Loading todos...</span>
          </li>
        </ul>
        <div class="todo-add">
          <input type="text" id="todo-input" placeholder="Add new item..." />
          <button id="todo-add-btn">Add</button>
        </div>
      </div>
    </div>

    <!-- Garage Doors - Bottom Left -->
    <div class="widget garage-widget">
      <div class="widget-header">
        <div class="widget-title">üöó Garage Doors</div>
      </div>
      <div class="garage-doors" id="garage-doors">
        <!-- Garage doors will be populated by JavaScript -->
      </div>
    </div>

    <!-- Alarm - Bottom Right -->
    <div class="widget alarm-widget">
      <div class="widget-header">
        <div class="widget-title">üîí Alarm Panel</div>
      </div>
      <div class="alarm-status" id="alarm-status">
        <div class="alarm-icon" id="alarm-icon">‚è≥</div>
        <div class="alarm-status-text" id="alarm-status-text">Loading...</div>
      </div>
    </div>

    <!-- Air Compressor Widget -->
    <div class="widget compressor-widget">
      <div class="widget-header">
        <div class="widget-title">üå¨Ô∏è Air Compressor</div>
      </div>
      <div class="compressor-content" id="compressor-content">
        <div class="compressor-icon" id="compressor-icon">‚è≥</div>
      </div>
    </div>

    <!-- Dice Widget -->
    <div class="widget dice-widget">
      <div class="widget-header">
        <div class="widget-title">üé≤ Dice</div>
      </div>
      <div class="dice-content" id="dice-content">
        <div class="dice-container">
          <!-- Dice faces will be generated by JavaScript -->
        </div>
      </div>
    </div>

    <!-- Stopwatch Widget -->
    <div class="widget stopwatch-widget">
      <div class="widget-header">
        <div class="widget-title">‚è±Ô∏è Stopwatch</div>
      </div>
      <div class="stopwatch-content">
        <div class="stopwatch-display">00:00.00</div>
        <div class="stopwatch-controls">
          <button class="stopwatch-btn stopwatch-play-pause" title="Start/Pause">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
          </button>
          <button class="stopwatch-btn stopwatch-reset" title="Reset">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="23 4 23 10 17 10"></polyline>
              <polyline points="1 20 1 14 7 14"></polyline>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Scoreboard Widget -->
    <div class="widget scoreboard-widget">
      <div class="widget-header">
        <div class="widget-title">üèÜ Scoreboard</div>
      </div>
      <div class="scoreboard-content">
        <button class="scoreboard-reset-btn" title="Reset All Scores">üîÑ</button>
        <!-- Teams will be dynamically generated here -->
      </div>
    </div>

    <!-- Clock Widget -->
    <div class="widget clock-widget">
      <div class="widget-header">
        <div class="widget-title">üïê Clock</div>
      </div>
      <div class="clock-content" id="clock-content">
        <div class="clock-time" id="clock-time">--:--:--</div>
        <div class="clock-date" id="clock-date">-- --, ----</div>
      </div>
    </div>

    <!-- Thermostat Widget -->
    <div class="widget thermostat-widget">
      <div class="widget-header">
        <div class="widget-title">üå°Ô∏è Thermostat</div>
      </div>
      <div class="thermostat-content">
        <div class="thermostat-selector">
          <select id="thermostat-selector" class="thermostat-dropdown">
            <option value="1">Basement</option>
            <option value="2">Living Room</option>
            <option value="3">Master Bedroom</option>
          </select>
        </div>
        <div class="thermostat-display" id="thermostat-display">
          <div class="thermostat-loading">Loading...</div>
        </div>
      </div>
    </div>

    <!-- News Feed Widget -->
    <div class="widget news-widget">
      <div class="widget-header">
        <div class="widget-title">üì∞ News</div>
      </div>
      <div class="news-content" id="news-content">
        <div class="news-loading">Loading news...</div>
      </div>
    </div>

    <!-- Whiteboard Widget -->
    <div class="widget whiteboard-widget">
      <div class="widget-header">
        <div class="widget-title">üñäÔ∏è Whiteboard</div>
        <div class="whiteboard-toolbar">
          <button class="whiteboard-tool-btn" id="whiteboard-clear" title="Clear">
            üóëÔ∏è
          </button>
          <input type="color" id="whiteboard-ink-color" class="whiteboard-color-picker" value="#000000" title="Ink Color">
          <input type="color" id="whiteboard-bg-color" class="whiteboard-color-picker" value="#ffffff" title="Background Color">
          <input type="range" id="whiteboard-brush-size" class="whiteboard-brush-size" min="1" max="20" value="3" title="Brush Size">
          <span class="whiteboard-brush-size-label" id="whiteboard-brush-size-label">3px</span>
        </div>
      </div>
      <div class="whiteboard-container">
        <canvas id="whiteboard-canvas"></canvas>
      </div>
    </div>

    <!-- Blank Widget - Clip Art Display -->
    <div class="widget blank-widget">
      <div class="widget-header">
        <div class="widget-title">‚¨ú Blank</div>
      </div>
      <div class="clipart-content">
        <!-- Clip art will be displayed here -->
      </div>
    </div>

    <!-- Stoplight Widget -->
    <div class="widget stoplight-widget">
      <div class="widget-header">
        <div class="widget-title">üö¶ Stoplight</div>
      </div>
      <div class="stoplight-content">
        <div class="stoplight-container">
          <div class="stoplight-casing">
            <div class="stoplight-light red-light" data-color="red" title="Red"></div>
            <div class="stoplight-light amber-light" data-color="amber" title="Amber"></div>
            <div class="stoplight-light green-light" data-color="green" title="Green"></div>
          </div>
          <div class="stoplight-labels">
            <div class="stoplight-label red-label"></div>
            <div class="stoplight-label amber-label"></div>
            <div class="stoplight-label green-label"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Monthly Calendar Modal -->
  <div id="month-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>
          <svg class="modal-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
          Monthly Calendar
        </h2>
        <button class="modal-close" id="close-month-modal">&times;</button>
      </div>
      <div id="month-calendar-content">
        <!-- Monthly calendar will be populated here -->
      </div>
    </div>
  </div>

  <!-- Hourly Forecast Modal -->
  <div id="hourly-modal" class="modal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2 id="hourly-modal-title">Hourly Forecast</h2>
        <button class="modal-close" id="close-hourly-modal">&times;</button>
      </div>
      <div id="hourly-forecast-content">
        <!-- Hourly forecast will be populated here -->
      </div>
    </div>
  </div>

  <!-- Calendar Event Details Modal -->
  <div id="event-modal" class="modal">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2 id="event-modal-title">Event Details</h2>
        <button class="modal-close" id="close-event-modal">&times;</button>
      </div>
      <div id="event-details-content" class="event-details">
        <!-- Event details will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- Daily Agenda Modal -->
  <div id="daily-agenda-modal" class="modal">
    <div class="modal-content modal-large" onclick="event.stopPropagation()">
      <div class="modal-header">
        <div class="daily-agenda-nav">
          <button class="daily-agenda-nav-btn" id="prev-day-btn" title="Previous Day">‚Äπ</button>
          <h2 id="daily-agenda-title">Daily Agenda</h2>
          <button class="daily-agenda-nav-btn" id="next-day-btn" title="Next Day">‚Ä∫</button>
        </div>
        <button class="modal-close" id="close-daily-agenda-modal">&times;</button>
      </div>
      <div id="daily-agenda-content" class="daily-agenda-content">
        <!-- Daily agenda will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- Background Configuration Modal -->
  <div id="background-modal" class="styling-modal-overlay">
    <div class="styling-modal">
      <div class="styling-modal-left">
        <div class="styling-modal-header">
          <h2>üñºÔ∏è Dashboard Background</h2>
          <button id="close-background-modal" class="styling-close-btn">&times;</button>
        </div>

        <div class="styling-form-section">
          <div class="styling-section-title">Background Type</div>
          <div class="styling-form-group">
            <div class="styling-form-row">
              <label class="styling-form-label">Type</label>
              <div class="styling-form-control">
                <select id="bg-type-select">
                  <option value="solid">Solid Color</option>
                  <option value="gradient">Gradient</option>
                  <option value="image">Image (URL)</option>
                  <option value="pattern">Pattern</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- Solid Color Section -->
        <div class="styling-form-section" id="bg-solid-section">
          <div class="styling-section-title">Color</div>
          <div class="styling-form-group">
            <div class="styling-form-row">
              <label class="styling-form-label">Color</label>
              <div class="styling-form-control">
                <input type="color" id="bg-solid-color" value="#1a1a1a">
                <input type="text" id="bg-solid-color-text" value="#1a1a1a" placeholder="#1a1a1a">
              </div>
            </div>
          </div>
        </div>

        <!-- Gradient Section -->
        <div class="styling-form-section" id="bg-gradient-section" style="display: none;">
          <div class="styling-section-title">Gradient</div>
          <div class="styling-form-group">
            <div class="styling-form-row">
              <label class="styling-form-label">Color 1</label>
              <div class="styling-form-control">
                <input type="color" id="bg-gradient-color1" value="#1a1a1a">
                <input type="text" id="bg-gradient-color1-text" value="#1a1a1a">
              </div>
            </div>
            <div class="styling-form-row">
              <label class="styling-form-label">Color 2</label>
              <div class="styling-form-control">
                <input type="color" id="bg-gradient-color2" value="#2a2a2a">
                <input type="text" id="bg-gradient-color2-text" value="#2a2a2a">
              </div>
            </div>
            <div class="styling-form-row">
              <label class="styling-form-label">Direction</label>
              <div class="styling-form-control">
                <select id="bg-gradient-direction">
                  <option value="to bottom">Top to Bottom</option>
                  <option value="to right">Left to Right</option>
                  <option value="to bottom right">Diagonal (Top-Left to Bottom-Right)</option>
                  <option value="to top right">Diagonal (Bottom-Left to Top-Right)</option>
                  <option value="135deg">135¬∞ Angle</option>
                  <option value="45deg">45¬∞ Angle</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- Image Section -->
        <div class="styling-form-section" id="bg-image-section" style="display: none;">
          <div class="styling-section-title">Background Image</div>
          <div class="styling-form-group">
            <div class="styling-form-row">
              <label class="styling-form-label">Image URL</label>
              <div class="styling-form-control">
                <input type="text" id="bg-image-url" placeholder="https://example.com/image.jpg">
              </div>
            </div>
            <div class="styling-form-row">
              <label class="styling-form-label">Repeat</label>
              <div class="styling-form-control">
                <select id="bg-image-repeat">
                  <option value="no-repeat">No Repeat</option>
                  <option value="repeat">Repeat</option>
                  <option value="repeat-x">Repeat X</option>
                  <option value="repeat-y">Repeat Y</option>
                </select>
              </div>
            </div>
            <div class="styling-form-row">
              <label class="styling-form-label">Position</label>
              <div class="styling-form-control">
                <select id="bg-image-position">
                  <option value="center">Center</option>
                  <option value="top">Top</option>
                  <option value="bottom">Bottom</option>
                  <option value="left">Left</option>
                  <option value="right">Right</option>
                  <option value="top left">Top Left</option>
                  <option value="top right">Top Right</option>
                  <option value="bottom left">Bottom Left</option>
                  <option value="bottom right">Bottom Right</option>
                </select>
              </div>
            </div>
            <div class="styling-form-row">
              <label class="styling-form-label">Size</label>
              <div class="styling-form-control">
                <select id="bg-image-size">
                  <option value="cover">Cover</option>
                  <option value="contain">Contain</option>
                  <option value="auto">Auto</option>
                  <option value="100% 100%">Stretch</option>
                </select>
              </div>
            </div>
            <div class="styling-form-row">
              <label class="styling-form-label">Opacity</label>
              <div class="styling-form-control">
                <input type="range" id="bg-image-opacity" min="0" max="100" value="100">
                <span class="styling-range-value" id="bg-image-opacity-value">100%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Pattern Section -->
        <div class="styling-form-section" id="bg-pattern-section" style="display: none;">
          <div class="styling-section-title">Pattern</div>
          <div class="styling-form-group">
            <div class="styling-form-row">
              <label class="styling-form-label">Pattern</label>
              <div class="styling-form-control">
                <select id="bg-pattern-type">
                  <option value="dots">Dots</option>
                  <option value="grid">Grid</option>
                  <option value="lines">Horizontal Lines</option>
                  <option value="diagonal">Diagonal Lines</option>
                  <option value="crosshatch">Crosshatch</option>
                </select>
              </div>
            </div>
            <div class="styling-form-row">
              <label class="styling-form-label">Color</label>
              <div class="styling-form-control">
                <input type="color" id="bg-pattern-color" value="#3a3a3a">
              </div>
            </div>
            <div class="styling-form-row">
              <label class="styling-form-label">Size</label>
              <div class="styling-form-control">
                <input type="range" id="bg-pattern-size" min="5" max="50" value="20">
                <span class="styling-range-value" id="bg-pattern-size-value">20px</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="styling-modal-actions">
          <div style="margin-bottom: 12px; width: 100%;">
            <label style="display: flex; align-items: center; gap: 8px; color: #e0e0e0; cursor: pointer; font-size: 14px;">
              <input type="checkbox" id="apply-background-to-all-pages" style="cursor: pointer; width: 18px; height: 18px;">
              <span>Apply to all pages</span>
            </label>
          </div>
          <button class="styling-btn styling-btn-outline" id="reset-background-btn">Reset</button>
          <button class="styling-btn styling-btn-primary" id="apply-background-btn">Apply</button>
        </div>
      </div>

      <!-- Right Side: Preview -->
      <div class="styling-modal-right">
        <div class="styling-preview-panel">
          <div class="styling-preview-title">Live Preview</div>
          <div class="styling-preview-background" id="background-preview">
            <!-- Preview will show background changes -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Styling Modal -->
  <div id="styling-modal" class="styling-modal-overlay">
    <div class="styling-modal">
      <div class="styling-modal-left">
        <div class="styling-modal-header">
          <h2 id="styling-modal-title">üé® Style Widget</h2>
          <button id="close-styling-modal" class="styling-close-btn">&times;</button>
        </div>

        <!-- Tabs -->
        <div class="styling-tabs">
          <button class="styling-tab active" data-tab="background">Background</button>
          <button class="styling-tab" data-tab="border">Border</button>
          <button class="styling-tab" data-tab="shadow">Shadow</button>
          <button class="styling-tab" data-tab="title">Title</button>
          <button class="styling-tab" data-tab="layout">Layout</button>
          <button class="styling-tab" data-tab="advanced">Advanced</button>
        </div>

        <!-- Tab Content -->
        <div class="styling-tab-content" id="styling-tab-content">
          <!-- Content will be populated by JavaScript -->
        </div>

        <!-- Action Buttons -->
        <div class="styling-modal-actions">
          <button class="styling-btn styling-btn-outline" id="reset-styles-btn">Reset</button>
          <button class="styling-btn styling-btn-secondary" id="save-theme-btn">Save as Theme</button>
          <button class="styling-btn styling-btn-primary" id="apply-styles-btn">Apply</button>
        </div>
      </div>

      <!-- Right Side: Preview -->
      <div class="styling-modal-right">
        <div class="styling-preview-panel">
          <div class="styling-preview-title">Live Preview</div>
          <div class="styling-preview-widget" id="styling-preview-widget">
            <div class="styling-preview-header">
              <div class="styling-preview-title-text" id="styling-preview-title">Widget Title</div>
            </div>
            <div class="styling-preview-content">
              Preview updates in real-time as you adjust settings
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer with Privacy Policy Link -->
  <!-- Hidden - not needed due to complications with Google Verification -->
  <!--
  <footer>
    <a href="/privacy-policy.html">Privacy Policy</a>
  </footer>
  -->

  <!-- Clip Art Selection Modal (Emoji) -->
  <div id="clipart-modal" class="modal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2>Choose Clip Art (Emoji)</h2>
        <button class="modal-close" id="close-clipart-modal">&times;</button>
      </div>
      <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
        <div id="clipart-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 15px; padding: 20px;">
          <!-- Clip art items will be populated by JavaScript -->
        </div>
      </div>
    </div>
  </div>

  <!-- Pixabay Gallery Modal -->
  <div id="pixabay-modal" class="modal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2>Pixabay Gallery</h2>
        <button class="modal-close" id="close-pixabay-modal">&times;</button>
      </div>
      <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
        <div style="padding: 20px;">
          <div style="margin-bottom: 15px;">
            <input type="text" id="pixabay-search" placeholder="Search for images..." style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #4a4a4a; background: #1a1a1a; color: #e0e0e0; font-size: 14px; margin-bottom: 10px;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 10px;">
              <div>
                <label style="display: block; margin-bottom: 5px; color: #888; font-size: 12px;">Image Type</label>
                <select id="pixabay-image-type" style="width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #4a4a4a; background: #1a1a1a; color: #e0e0e0; font-size: 14px;">
                  <option value="all" selected>All</option>
                  <option value="photo">Photo</option>
                  <option value="illustration">Illustration</option>
                  <option value="vector">Vector</option>
                </select>
                <div style="font-size: 11px; color: #666; margin-top: 3px;">Select 1</div>
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; color: #888; font-size: 12px;">Category</label>
                <select id="pixabay-category" style="width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #4a4a4a; background: #1a1a1a; color: #e0e0e0; font-size: 14px;">
                  <option value="">All Categories</option>
                  <option value="backgrounds">Backgrounds</option>
                  <option value="fashion">Fashion</option>
                  <option value="nature">Nature</option>
                  <option value="science">Science</option>
                  <option value="education">Education</option>
                  <option value="feelings">Feelings</option>
                  <option value="health">Health</option>
                  <option value="people">People</option>
                  <option value="religion">Religion</option>
                  <option value="places">Places</option>
                  <option value="animals">Animals</option>
                  <option value="industry">Industry</option>
                  <option value="computer">Computer</option>
                  <option value="food">Food</option>
                  <option value="sports">Sports</option>
                  <option value="transportation">Transportation</option>
                  <option value="travel">Travel</option>
                  <option value="buildings">Buildings</option>
                  <option value="business">Business</option>
                  <option value="music">Music</option>
                </select>
                <div style="font-size: 11px; color: #666; margin-top: 3px;">Select 1</div>
              </div>
              <div>
                <label style="display: block; margin-bottom: 5px; color: #888; font-size: 12px;">Colors</label>
                <select id="pixabay-colors" multiple style="width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #4a4a4a; background: #1a1a1a; color: #e0e0e0; font-size: 14px; min-height: 80px;">
                  <option value="">All Colors</option>
                  <option value="grayscale">Grayscale</option>
                  <option value="transparent">Transparent</option>
                  <option value="red">Red</option>
                  <option value="orange">Orange</option>
                  <option value="yellow">Yellow</option>
                  <option value="green">Green</option>
                  <option value="turquoise">Turquoise</option>
                  <option value="blue">Blue</option>
                  <option value="lilac">Lilac</option>
                  <option value="pink">Pink</option>
                  <option value="white">White</option>
                  <option value="gray">Gray</option>
                  <option value="black">Black</option>
                  <option value="brown">Brown</option>
                </select>
                <div style="font-size: 11px; color: #666; margin-top: 3px;">Hold Ctrl/Cmd to select multiple</div>
              </div>
            </div>
            <button type="button" id="pixabay-search-btn" class="styling-btn-secondary" style="width: 100%;">Search</button>
          </div>
          <div id="pixabay-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px;">
            <!-- Images will be populated by JavaScript -->
          </div>
          <div id="pixabay-loading" style="text-align: center; padding: 20px; display: none;">
            <div style="color: #888;">Loading images...</div>
          </div>
          <div id="pixabay-error" style="text-align: center; padding: 20px; display: none; color: #e74c3c;">
            <!-- Error message will be shown here -->
          </div>
        </div>
      </div>
    </div>
  </div>


  <script src="app.js"></script>
  <script src="styling.js"></script>
</body>
</html>
